{
  "functions" : [{
    "function_folder_name" : "rpt_coverage_tier",
    "tab_folder_name" : "drug",
    "validation_fields" : "drug_name, dim_tier_name, dim_tier_id, dim_tier_type_id, is_tier_preferred, avg_copay, lis_lives, total_lis_lives, lives, total_lives, health_plan_count, total_health_plan_count",
    "selections" : [{
      "selection_id" : "1",
      "selection_name" : "All Drugs, National, All Plan Types",
      "test_name" : "ana_rpt_cov_tier_drg",
      "geography" : "National",
      "drug_class" : "DRUG_CLASS_001",
      "state_list" : "",
      "plan_list" : "HEALTH_PLAN_TYPE_001,HEALTH_PLAN_TYPE_002,HEALTH_PLAN_TYPE_003",
      "drug_list" : "DRUG_001,DRUG_002,DRUG_003,DRUG_004",
      "test_cases"    :    [{
                              "condition_fields" : {
                                "drug_name" : "DRUG_001",
                                "dim_tier_name" : "Tier 1"
                              },
                              "expected_json" : "\"dim_tier_id\":1,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":null,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":200,\"total_lives\":1341,\"health_plan_count\":2,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_001",
                                "dim_tier_name" : "Tier 2"
                              },
                              "expected_json" : "\"dim_tier_id\":2,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":10.00,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":50,\"total_lives\":1341,\"health_plan_count\":1,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_001",
                                "dim_tier_name" : "Tier 3"
                              },
                              "expected_json" : "\"dim_tier_id\":3,\"dim_tier_type_id\":1,\"is_tier_preferred\":true,\"avg_copay\":null,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":30,\"total_lives\":1341,\"health_plan_count\":1,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_001",
                                "dim_tier_name" : "Tier 4"
                              },
                              "expected_json" : "\"dim_tier_id\":4,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":30.00,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":150,\"total_lives\":1341,\"health_plan_count\":1,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_002",
                                "dim_tier_name" : "Tier 1"
                              },
                              "expected_json" : "\"dim_tier_id\":1,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":null,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":100,\"total_lives\":1341,\"health_plan_count\":1,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_002",
                                "dim_tier_name" : "Tier 2"
                              },
                              "expected_json" : "\"dim_tier_id\":2,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":20.00,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":150,\"total_lives\":1341,\"health_plan_count\":2,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_003",
                                "dim_tier_name" : "Tier 1"
                              },
                              "expected_json" : "\"dim_tier_id\":1,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":60.00,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":130,\"total_lives\":1341,\"health_plan_count\":3,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_003",
                                "dim_tier_name" : "Tier 1"
                              },
                              "expected_json" : "\"dim_tier_id\":1,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":60.00,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":130,\"total_lives\":1341,\"health_plan_count\":3,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_003",
                                "dim_tier_name" : "Tier 2"
                              },
                              "expected_json" : "\"dim_tier_id\":2,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":20.00,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":246,\"total_lives\":1341,\"health_plan_count\":3,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_003",
                                "dim_tier_name" : "Tier 3"
                              },
                              "expected_json" : "\"dim_tier_id\":3,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":null,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":100,\"total_lives\":1341,\"health_plan_count\":1,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_003",
                                "dim_tier_name" : "Tier 3"
                              },
                              "expected_json" : "\"dim_tier_id\":3,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":null,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":60,\"total_lives\":1341,\"health_plan_count\":2,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_003",
                                "dim_tier_name" : "NA"
                              },
                              "expected_json" : "\"dim_tier_id\":9,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":null,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":25,\"total_lives\":1341,\"health_plan_count\":1,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_003",
                                "dim_tier_name" : "NC"
                              },
                              "expected_json" : "\"dim_tier_id\":8,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":null,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":50,\"total_lives\":1341,\"health_plan_count\":1,\"total_health_plan_count\":20"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_004",
                                "dim_tier_name" : "Tier 2"
                              },
                              "expected_json" : "\"dim_tier_id\":2,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":55.00,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":50,\"total_lives\":1341,\"health_plan_count\":1,\"total_health_plan_count\":20"
                          }
                          ]
    },{
      "selection_id" : "2",
      "selection_name" : "1 Drug, 1 State, 2 Plan Types",
      "test_name" : "ana_rpt_cov_tier_drg",
      "geography" : "State",
      "drug_class" : "DRUG_CLASS_001",
      "state_list" : "State_002",
      "plan_list" : "HEALTH_PLAN_TYPE_001,HEALTH_PLAN_TYPE_002,HEALTH_PLAN_TYPE_003",
      "drug_list" : "DRUG_002",
      "test_cases"    :    [{
                              "condition_fields" : {
                                "drug_name" : "DRUG_002",
                                "dim_tier_name" : "Tier 1"
                              },
                              "expected_json" : "\"dim_tier_id\":1,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":null,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":100,\"total_lives\":250,\"health_plan_count\":1,\"total_health_plan_count\":3"
                          },
                          {
                              "condition_fields" : {
                                "drug_name" : "DRUG_002",
                                "dim_tier_name" : "Tier 2"
                              },
                              "expected_json" : "\"dim_tier_id\":2,\"dim_tier_type_id\":1,\"is_tier_preferred\":false,\"avg_copay\":20.00,\"lis_lives\":0,\"total_lis_lives\":0,\"lives\":150,\"total_lives\":250,\"health_plan_count\":1,\"total_health_plan_count\":3"
                          }
                          ]
    }]
  }]
}